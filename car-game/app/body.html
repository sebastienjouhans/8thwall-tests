<!-- Copyright (c) 2020 8th Wall, Inc. -->
<!-- body.html is optional; elements will be added to your html body after app.js is loaded. -->

<a-scene 
xrextras-almost-there
xrextras-loading
xrextras-runtime-error
xrweb>
<!--physics="debug: true"-->

<a-assets>
  <a-asset-item id="car" src="./assets/car.glb"></a-asset-item>   
  <a-asset-item id="star" src="./assets/star.glb"></a-asset-item>   
</a-assets>
  
  <a-camera position="0 2 2"></a-camera>

  <a-entity light="type: ambient; intensity: 0.7;"></a-entity>
  <a-entity
    light="
      type: directional;
      intensity: 0.5;
      castShadow: true;
      shadowMapHeight:512;
      shadowMapWidth:512;
      shadowCameraTop: 10;
      
      target: #car-model;"
    position="1 8 -5"
    shadow>
  </a-entity>
  <!--shadowCameraVisible: true;?-->


  <a-entity>
  
    <a-entity 
      id="star1-model"
      position="0 1 -3"
      rotation="0 0 0"
      scale="0.04 0.04 0.04"
      gltf-model="#star"
      kinematic-body
      animation="property: rotation; to: 0 360 0; loop: true; dur: 5000"
      collision>
    </a-entity>

     <a-entity 
      id="star2-model"
      position="3 1 -5"
      rotation="0 0 0"
      scale="0.04 0.04 0.04"
      gltf-model="#star"
      kinematic-body
      animation="property: rotation; to: 0 360 0; loop: true; dur: 5000"
      collision>
    </a-entity>
    
     <a-entity 
      id="star3-model"
      position="-3 1 -5"
      rotation="0 0 0"
      scale="0.04 0.04 0.04"
      gltf-model="#star"
      kinematic-body
      animation="property: rotation; to: 0 360 0; loop: true; dur: 5000"
      collision>
    </a-entity>
    
    <a-entity 
      id="car-model"
      position="0 0 0"
      rotation="0 90 0"
      scale="0.1 0.1 0.1"
      joystick
      gltf-model="#car"
      kinematic-body
      shadow="cast: true">
    </a-entity>
    
    <a-plane 
      id="ground"
      height="2000" 
      width="2000" 
      position="0 0 0"
      rotation="-90 0 0" 
      material="shader: shadow; transparent: true; opacity: .7" 
      shadow="receive: true"
      static-body>
    </a-plane>  
  </a-entity>
</a-scene>

<div id="joystick"></div>
<div id="joystickBackground"></div>
